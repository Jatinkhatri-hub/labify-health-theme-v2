{{ 'section-review.css' |  asset_url |  stylesheet_tag }}


{%- style -%}
  .section-{{ section.id }}-padding {
    padding-top: {{ section.settings.padding_top | times: 0.75 | round: 0 }}px;
    padding-bottom: {{ section.settings.padding_bottom | times: 0.75 | round: 0 }}px;
  }


  .swiper-btn {
    display: flex !important;
    width: 50px;
    height: 50px;
    border-radius: 50%;
    background-color: #174338;
    color: white;
    justify-content: center;
    align-items: center;
    position: absolute;
    top: var(--swiper-navigation-top-offset,90%) !important;
    z-index: 10;
  }

  .swiper-button-next:after, .swiper-button-prev:after {
    font-size: 20px;
    font-weight: 900;
  }



  .swiper-wrapper {
    padding-top: 20px;
    padding-bottom: 100px;

  }

  .swiper-horizontal > .swiper-pagination-bullets, .swiper-pagination-bullets.swiper-pagination-horizontal, .swiper-pagination-custom, .swiper-pagination-fraction {
  bottom: var(--swiper-pagination-bottom,8px);
  top: var(--swiper-pagination-top,auto);
  left: 0;
  width: 100%;
  bottom: 27px;
  z-index: 1;
}

  .swiper-container-horizontal>.swiper-pagination-bullets, .swiper-pagination-custom, .swiper-pagination-fraction{
    bottom: 25px !important;
}

.swiper-pagination-bullet-active {
    background-color: #174338;
  }

  @media screen and (max-width: 750px) {

  .swiper-slide-{{ section.id }} {
    width: 300px !important;
    height: 275px !important;
  }

  }

  @media screen and (min-width: 750px) {
    .section-{{ section.id }}-padding {
      padding-top: {{ section.settings.padding_top }}px;
      padding-bottom: {{ section.settings.padding_bottom }}px;
    }

    .section.

  }

  @font-face {
    font-family: 'Avenir Regular';
    src: url('{{'avenir-regular.woff2' |  asset_url}}');
  }

  @font-face {
    font-family: 'Avenir Bold';
    src: url('{{'avenir-bold.woff2' |  asset_url}}');
  }

  @font-face {
    font-family: 'Avenir Light';
    src: url('{{'avenir-light.woff2' |  asset_url}}');
  }




  
{%- endstyle -%}

<div class="section-{{ section.id }}-padding gradient color-{{ section.settings.section_color_scheme }} custom-section review-section">
  <div class="page-width color-{{ section.settings.color_scheme }} review-section">
    <h2 class="review__heading">{{ section.settings.heading }}</h2>
    <div class="swiper mySwiper mySwiper-{{ section.id }}">
        <div class="swiper-wrapper">
    {% for block in section.blocks %}
      {% case block.type %}
        {% when "review_card" %}
          <div class="review__card-wrapper swiper-slide swiper-slide-{{ section.id }}">
            <div class="review__card-header">
              <div class="review__card-name-and-star">
                <h1 class="review__card-user-name">{{ block.settings.name }}</h1>
                <div class="review__card-verified-badge">{% render 'icon-tick-2' %} <span>Verified Customer</span></div>
              </div>
              <div class="review__card-star-wrapper">
                {%  render 'icon-star' %}
                {%  render 'icon-star' %}
                {%  render 'icon-star' %}
                {%  render 'icon-star' %}
                {%  render 'icon-star' %}
              </div>
            </div>
            <p class="review__card-review">{{ block.settings.review }}</p>
          </div>
      {% endcase %}
    {% endfor %}
    </div>
    <div class="swiper-btn button--{{ section.id }} swiper-button-prev"></div>
    <div class="swiper-pagination swiper-pagination-{{ section.id }}"></div>
    <div class="swiper-btn button--{{ section.id }} swiper-button-next"></div>
    </div>
  </div>
</div>



<script>

  document.addEventListener('DOMContentLoaded', () => {
    const id = "{{ section.id }}"

    const swiperClass = `.mySwiper-${id}`;
    const swiperPaginationClass = `.swiper-pagination-${id}`;
    const swiperButtonNextClass = `.button--${id}.swiper-button-next`;
    const swiperButtonPrevClass = `.button--${id}.swiper-button-prev`;

    const swiperContainer = document.querySelector(swiperClass);
    const swiperPagination = document.querySelector(swiperPaginationClass);
    const swiperButtonNext = document.querySelector(swiperButtonNextClass);
    const swiperButtonPrev = document.querySelector(swiperButtonPrevClass);

    let swiper = new Swiper(swiperClass, {
      slidesPerView: 'auto',
      spaceBetween: 10,
      centeredSlides: false,
      navigation: {
        nextEl: swiperButtonNextClass,
        prevEl: swiperButtonPrevClass,
      },
      pagination: {
        el: swiperPaginationClass,
        clickable: true,
      },
      breakpoints: {
        786: {
          slidesPerView: 'auto',
          spaceBetween: 15,
        }
      },
      observer: true, 
      observeParents: true,
    });

          
    
  });


</script>

{%  schema  %}
  {
    "name": "Section Review",
    "settings": [
      {
        "type": "inline_richtext",
        "id": "heading",
        "label": "Heading",
        "default": "Heading"
      },
      {
        "type": "color_scheme",
        "id": "section_color_scheme",
        "label": "t:sections.all.colors.label",
        "default": "scheme-1"
      },
      {
        "type": "color_scheme",
        "id": "color_scheme",
        "label": "t:sections.multirow.settings.container_color_scheme.label",
        "default": "scheme-1"
      }, {
        "type": "range",
        "id": "padding_top",
        "min": 0,
        "max": 100,
        "step": 4,
        "unit": "px",
        "label": "t:sections.all.padding.padding_top",
        "default": 36
      }, {
        "type": "range",
        "id": "padding_bottom",
        "min": 0,
        "max": 100,
        "step": 4,
        "unit": "px",
        "label": "t:sections.all.padding.padding_bottom",
        "default": 36
      }
    ],
    "blocks": [
      {
        "type": "review_card",
        "name": "Review Card",
        "settings": [
          {
            "type": "text",
            "id": "name",
            "label": "Name",
            "default": "Name"
          },
          {
            "type": "text",
            "id": "review",
            "label": "Review",
            "default": "Lorem ipsum dolor sit amet consectetur. Aenean sit at amet id diam sit urna nunc vestibulum. Pellentesque tellus enim non neque elementum hendrerit nulla. Turpis faucibus egestas enim bibendum senectus. Donec amet tempor netus cursus. Morbi viverra sollicitudin sit enim id quam dui."
          }
        ]
      }
    ],
    "presets": [
      {
        "name": "Review Section"
      }
    ]
  }

{% endschema %} 